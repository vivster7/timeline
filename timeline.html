<head>
  <title>Timeline</title>
</head>

<body>
  {{> timeline}}
</body>

<template name="hello">
  <button>Click Me</button>
  <p>You've pressed the button {{counter}} times.</p>
</template>

<template name="timeline">
	{{#if selected_event}}
		<div class="clear-image" style="background: url({{selected_event.image}}); background-size: 100%; background-repeat: no-repeat;"></div>
		<article class="content">
			<div class="blurred-image" style="background: url({{selected_event.image}}); background-size: 333%; background-repeat: no-repeat;"></div>
			<span class="article-title">{{selected_event.title}}</span>
			<div class="article-content"> {{selected_event.content}} </div>
		</article>	
	{{else}}
		<div class='test'>Select an event</div>
	{{/if}}

	<div class="timeline">

		{{> eventline}}

		<div class="events-container">
			{{#each events}}
				{{> event}}
			{{/each}}
		</div>
	</div>
</template>

<template name="eventline">
	<div id="left-arrow" class="arrow">
		<!-- Arrow SVG from http://codepen.io/fixcl/pen/Fkcot-->
	    <svg width="{{arrow_width}}px" height="100px" viewBox="0 0 50 80" xml:space="preserve">
				<polyline fill="none" stroke="#FFFFFF" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" points="45.63,75.80.375,38.087 45.63,0.375 "/>
		</svg>  
	</div>

	<div id="event-line">	
		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{{eventline_width}}px" height="100px">
			<rect y="45" width="{{eventline_width}}" height="10"/>
		</svg>
	</div>

	<div id="right-arrow" class="arrow">
		<!-- Arrow SVG from http://codepen.io/fixcl/pen/Fkcot-->
		 <svg  width="{{arrow_width}}px" height="100px" viewBox="0 0 50 80" xml:space="preserve">
		    <polyline fill="none" stroke="#FFFFFF" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" points="
			0.375,0.375 45.63,38.087 0.375,75.8 "/>
		 </svg>
	</div>
</template>

<template name="event">
	<div class="event {{selected}}" style="left:{{distance_pushed}}px;">
		<svg width="22" height="22">
			<circle cx="10" cy="10" r="10" />
		</svg>
	</div>
</template>

